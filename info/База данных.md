# PostgreSQL
# Таблицы

### 1. Пользователи (Users)

- id (PK) - уникальный идентификатор пользователя
- telegram_id - ID пользователя в Telegram
- telegram_username - никнейм в Telegram
- first_name - имя
- last_name - фамилия
- middle_name - отчество (если есть)
- created_at - дата создания аккаунта
- last_active_at - дата последней активности

- notification_settings - настройки уведомлений - не знаю как реализовать

### 2. Группы (Groups)

- id (PK) - уникальный идентификатор группы
- name - название группы
- description - описание группы
- created_at - дата создания

### 3. Участники групп (GroupMembers)

- id (PK) - уникальный идентификатор записи
- user_id (FK) - ссылка на пользователя
- group_id (FK) - ссылка на группу
- is_leader - флаг старосты группы
- is_assistant - флаг помощника старосты
- joined_at - дата вступления в группу

### 4. Приглашения в группы (GroupInvitations)

- id (PK) - уникальный идентификатор приглашения
- group_id (FK) - ссылка на группу
- invited_by_user_id (FK) - кто отправил приглашение
- invite_token - уникальный токен приглашения
- expires_at - срок действия приглашения
- is_used - использовано ли приглашение
- created_at - дата создания

### 5. События (Events)

- id (PK) - уникальный идентификатор события
- group_id (FK) - ссылка на группу
- created_by_user_id (FK) - кто создал событие
- title - название события
- description - описание
- subject - предмет/дисциплина
- deadline_id - при наличии подвязанного дедлайна, так же с очередью и темами
- order_id
- topics_id
- is_important - важное ли событие
- created_at - дата создания

### 6. Просмотренные события (ViewedEvents)

- id (PK) - уникальный идентификатор записи
- user_id (FK) - ссылка на пользователя
- event_id (FK) - ссылка на событие
- viewed_at - дата просмотра

### 7. Дедлайны (Deadlines)

- id (PK) - уникальный идентификатор дедлайна
- event_id (FK) - ссылка на событие - не уверен нужно ли
- description - описание
- start -начало
- end - срок сдачи

### 8. Очереди (Queues)

- id (PK) - уникальный идентификатор очереди
- event_id (FK) - ссылка на событие - не уверен нужно ли
- title - название очереди
- description - описание
- max_participants - максимальное количество участников

скорее всего это добавлять не стоит так как люди не успевшие защититься на прошлую пару так и никогда могут не защититься если не успеют занять место в новой очереди. Но возможно это стоит оставить и не реализовывать а сделать потом если захотим

- created_at - дата создания

### 9. Участники очередей (QueueParticipants)

- id (PK) - уникальный идентификатор записи
- queue_id (FK) - ссылка на очередь
- user_id (FK) - ссылка на пользователя
- position - позиция в очереди
- joined_at - дата присоединения

### 10. Темы (Topics)

- id (PK) - уникальный идентификатор темы
- event_id (FK) - ссылка на группу
- title - название темы
- description - описание
- max_participants - максимальное количество участников
- created_at - дата создания
- created_by_user_id (FK) - кто создал тему

### 11. Выбор тем (TopicSelections)

- id (PK) - уникальный идентификатор записи
- topic_id (FK) - ссылка на тему
- user_id (FK) - ссылка на пользователя
- selected_at - дата выбора
- is_confirmed - подтвержден ли выбор (старостой)
- confirmed_by_user_id (FK) - кто подтвердил выбор
- confirmed_at - дата подтверждения

### 12. Логи действий админов (AdminLogs)

- id (PK) - уникальный идентификатор записи
- telegram_id (FK) - ссылка на пользователя-админа
- action - действие
- details - детали действия
- performed_at - дата выполнения
- ip_address - IP адрес

### 13. Входы админов (AdminLogins)

- id (PK) - уникальный идентификатор записи
- telegram_id (FK) - ссылка на пользователя-админа
- login_at - дата входа
- ip_address - IP адрес

### 14. Отмеченные группы (StarredGroups)

- id (PK) - уникальный идентификатор записи
- user_id (FK) - ссылка на пользователя
- group_id (FK) - ссылка на группу
- starred_at - дата отметки

### 15. Напоминания (Reminders) ^notification-settings

- user_id (PK, FK) - ссылка на пользователя
- notify_before_deadline - за сколько минут/часов/дней предупреждать (например, 1440 для 24 часов)
- notify_new_topics - boolean (предупреждать о новых темах)
- notify_new_queues - boolean (предупреждать о новых очередях)
- notify_new_events - boolean (предупреждать о новых событиях)
- notify_method - способ уведомления (Telegram message, email и т.д.)
- updated_at - дата последнего обновления настроек
## Дополнительные таблицы (по необходимости)

### 16. Файлы (Files) - думаю стоит отложить

- id (PK) - уникальный идентификатор файла
- event_id (FK) - ссылка на событие (если прикреплен к событию)
- uploaded_by_user_id (FK) - кто загрузил
- file_name - название файла
- file_type - тип файла
- file_size - размер файла
- file_path - путь к файлу
- uploaded_at - дата загрузки

### 17. Журнал изменений (ChangeLog)

- id (PK) - уникальный идентификатор записи
- user_id (FK) - кто внес изменения
- entity_type - тип изменяемой сущности
- entity_id - ID изменяемой сущности
- action - действие (создание, изменение, удаление)
- old_values - предыдущие значения (JSON)
- new_values - новые значения (JSON)
- changed_at - дата изменения